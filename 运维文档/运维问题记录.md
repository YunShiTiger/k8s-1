#### 1、k8s集群环境，docker拉取镜像: Cannot allocate memory

描述：测试环境拉取镜像cannot allocate memory

排查过程：进程数并没满，然后排查相关组键问题，k8s采用的二进制部署，因而与docker相关的组件有kubelet与flanld,测试发现停掉flanld服务，重启主机，还是不能拉取镜像，关闭kubelet服务，重启主机，发现可以正常拉取镜像，因此排查出kubelet影响了镜像的拉取，经排查相应配置时发现一些久配置（已弃用），怀疑与这些旧配置影响镜像拉取，剔除旧配置，重启服务，可以正常拉取。

![](../acess/16293593634202.png)

#### 2、非443端口启用https

需要添加以下配置，否则应用访问不了

```
ssl on;
```

