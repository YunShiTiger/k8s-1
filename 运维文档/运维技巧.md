#### 查看docker个容器磁盘占用大小

```bash
docker ps --size |awk '{print $(NF-3),$NF}'|awk -F '[)]' '{print $1}'|sort -nk2|column -t
```

#### 清除句柄

```bash
for n in `lsof  -w |grep deleted|awk '{print $2}'|uniq`;do kill -9 $n;done
```

#### 修改 Node节点主机名

1、使用 kubectl drain 命令驱逐节点上Pod
2、使用 kubectl delete node 命令删除需要改名的节点
3、停止 kubelet 和 kube-proxy 服务
4、修改 kubelet和kube-proxy上的主机名配置
5、删除 kubelet 服务生成的认证文件和客户端证书
6、启动 kubelet 和 kube-proxy 服务
7、使用命令 kubectl get csr
8、未使用自动授权需要kubectl certificate approve 命令授权 node节点加入

#### 查看目录大小

```bash
du -sh /* --exclude=/proc
```

#### 查看文件大小并排序

```bash
find /var/lib/docker/containers -name *.log|xargs ls -lhSr
```

